
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Painel de Controle Avançado</title>
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
  <header><h1>🎛️ Painel de Controle - FilmesOnline24h</h1></header>
  <main style="max-width: 600px; margin: auto; display: flex; flex-direction: column; gap: 1rem;">
    <input type="text" id="movieId" placeholder="ID do Filme (TMDb)" />
    <input type="text" id="buttonText" placeholder="Texto do Botão (ex: Assistir 1)" />
    <input type="url" id="buttonLink" placeholder="Link para o vídeo (ex: https://...)" />
    <button onclick="addMovie()">Adicionar Filme + Botão</button>
    <p id="status"></p>
  </main>
  <script>
    const API_KEY = '93eaa6dd762bc810780c57a34e60b6f1';

    function addMovie() {
      const id = document.getElementById('movieId').value.trim();
      const btnText = document.getElementById('buttonText').value.trim();
      const btnLink = document.getElementById('buttonLink').value.trim();

      if (!id || !btnText || !btnLink) {
        document.getElementById('status').innerText = 'Preencha todos os campos.';
        return;
      }

      fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}`)
        .then(res => res.json())
        .then(data => {
          if (!data.id) {
            document.getElementById('status').innerText = 'Filme não encontrado.';
            return;
          }
          data.customButton = {
            text: btnText,
            link: btnLink
          };
          localStorage.setItem(`filme-${id}`, JSON.stringify(data));
          document.getElementById('status').innerText = `🎉 Filme "${data.title}" adicionado com botão personalizado!`;
        });
    }
  </script>
</body>
</html>
