<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Painel de Controle - FilmesOnline24h</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #141414; color: white;
    margin: 0; padding: 0;
  }
  header {
    background: #111; padding: 20px 40px;
    font-size: 24px; font-weight: bold;
    color: #e50914;
    text-align: center;
  }
  main {
    padding: 40px;
    max-width: 600px;
    margin: auto;
  }
  input, button {
    width: 100%;
    padding: 12px;
    margin-bottom: 15px;
    border-radius: 4px;
    border: none;
    font-size: 16px;
  }
  input {
    background: #222;
    color: white;
  }
  button {
    background: #e50914;
    color: white;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  button:hover {
    background: #b0060f;
  }
  #logoutBtn {
    background: #444;
    margin-top: 20px;
  }
  #logoutBtn:hover {
    background: #666;
  }
  #addMovieForm {
    display: none;
  }
  #message {
    margin-bottom: 15px;
    color: #e50914;
    font-weight: bold;
  }
</style>
</head>
<body>

<header>Painel de Controle FilmesOnline24h</header>

<main>
  <div id="authSection">
    <input type="email" id="email" placeholder="Email" />
    <input type="password" id="password" placeholder="Senha" />
    <button id="loginBtn">Entrar</button>
  </div>

  <form id="addMovieForm">
    <div id="message"></div>
    <input type="text" id="movieTitle" placeholder="Título do Filme" required />
    <input type="text" id="moviePoster" placeholder="URL do Poster" required />
    <input type="text" id="movieVideo" placeholder="URL do Vídeo (YouTube embed)" required />
    <button type="submit">Adicionar Filme</button>
    <button type="button" id="logoutBtn">Sair</button>
  </form>
</main>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script src="firebaseConfig.js"></script>

<script>
  const authSection = document.getElementById('authSection');
  const loginBtn = document.getElementById('loginBtn');
  const emailInput = document.getElementById('email');
  const passwordInput = document.getElementById('password');
  const addMovieForm = document.getElementById('addMovieForm');
  const message = document.getElementById('message');
  const logoutBtn = document.getElementById('logoutBtn');

  // Verifica login
  firebase.auth().onAuthStateChanged(user => {
    if(user) {
      authSection.style.display = 'none';
      addMovieForm.style.display = 'block';
      message.textContent = `Logado como ${user.email}`;
    } else {
      authSection.style.display = 'block';
      addMovieForm.style.display = 'none';
      message.textContent = '';
      emailInput.value = '';
      passwordInput.value = '';
    }
  });

  // Login
  loginBtn.addEventListener('click', () => {
    const email = emailInput.value.trim();
    const password = passwordInput.value.trim();
    if(!email || !password) {
      alert('Preencha email e senha!');
      return;
    }
    auth.signInWithEmailAndPassword(email,
